(this["webpackJsonpgoit-react-hw-03-phonebook"]=this["webpackJsonpgoit-react-hw-03-phonebook"]||[]).push([[0],{105:function(e,t,n){"use strict";n.r(t);var r=n(0),c=n.n(r),o=n(21),u=n.n(o),a=(n(61),n(8)),s=n(48),i=n.n(s),b=n(3),j=function(){return Object(b.jsx)(i.a,{style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)"},type:"Circles",color:"#00BFFF",height:80,width:80})},l=n(15),O=n(18),d=n(120),f=n(47),g=n(1),h=function(e){return!!e.auth.isAuthenticated},p=function(e){return e.auth.user.name},x=n(29);function m(){var e=Object(l.c)(),t=Object(l.d)(h),n=Object(l.d)(p),c=Object(r.useRef)(null);return console.log(t),Object(r.useEffect)((function(){f.a.fromTo(c,1.5,{y:-150},{y:0,ease:g.b.easeInOut})}),[]),Object(b.jsxs)("div",{ref:function(e){return c=e},children:[Object(b.jsxs)("div",{children:[Object(b.jsx)(O.b,{to:"/",className:"Home",children:Object(b.jsx)(d.a,{variant:"contained",color:"secondary",children:"Home"})}),t&&Object(b.jsx)(O.b,{to:"/contacts",className:"Contacts",children:Object(b.jsx)(d.a,{variant:"contained",color:"secondary",children:"Contacts"})})]}),t?Object(b.jsxs)("div",{children:[Object(b.jsxs)("p",{className:"userName",children:["Hello, ",Object(b.jsx)("span",{children:n})]}),Object(b.jsxs)("div",{className:"Logout",children:[" ",Object(b.jsx)(d.a,{variant:"contained",color:"secondary",onClick:function(){return e(Object(x.b)())},children:"Logout"})]})]}):Object(b.jsxs)("div",{children:[Object(b.jsx)(O.b,{to:"/register",className:"HomePageSignUp",children:Object(b.jsx)(d.a,{variant:"contained",color:"secondary",children:"Sign Up"})}),Object(b.jsx)(O.b,{to:"/login",className:"HomePageSignIn",children:Object(b.jsx)(d.a,{variant:"contained",color:"secondary",children:"Sign In"})})]})]})}var v=n(22),S=n(33),C=["component","redirectTo"];function y(e){var t=e.component,n=e.redirectTo,r=Object(S.a)(e,C),c=Object(l.d)(h);return Object(b.jsx)(a.b,Object(v.a)(Object(v.a)({},r),{},{render:function(e){return c?Object(b.jsx)(t,Object(v.a)({},e)):Object(b.jsx)(a.a,{to:n})}}))}var k=["component","redirectTo"];function E(e){var t=e.component,n=e.redirectTo,r=Object(S.a)(e,k),c=Object(l.d)(h);return Object(b.jsx)(a.b,Object(v.a)(Object(v.a)({},r),{},{render:function(e){return c&&r.restricted?Object(b.jsx)(a.a,{to:n}):Object(b.jsx)(t,Object(v.a)({},e))}}))}var U=Object(r.lazy)((function(){return n.e(4).then(n.bind(null,123))})),R=Object(r.lazy)((function(){return n.e(6).then(n.bind(null,124))})),q=Object(r.lazy)((function(){return n.e(5).then(n.bind(null,125))})),T=Object(r.lazy)((function(){return n.e(3).then(n.bind(null,126))}));var A,w,z,N,H,F,I=Object(l.b)(null,(function(e){return{updateUser:function(){return e(x.a.getCurrentUser())}}}))((function(e){var t=e.updateUser;return Object(r.useEffect)((function(){t()}),[t]),Object(b.jsxs)("div",{children:[Object(b.jsx)(m,{}),Object(b.jsx)(r.Suspense,{fallback:Object(b.jsx)(j,{}),children:Object(b.jsxs)(a.d,{children:[Object(b.jsx)(E,{exact:!0,path:"/",component:U}),Object(b.jsx)(E,{path:"/register",restricted:!0,redirectTo:"/contacts",component:R}),Object(b.jsx)(E,{path:"/login",restricted:!0,redirectTo:"/contacts",component:q}),Object(b.jsx)(y,{path:"/contacts",redirectTo:"/",component:T})]})})]})})),B=n(30),D=n(4),L=n(53),J=n.n(L),P=n(54),M=n.n(P),G=n(20),K=n(5),Q=n(10),V=n(12),W=Object(D.c)([],(A={},Object(K.a)(A,V.c,(function(e,t){var n=t.payload;return[].concat(Object(B.a)(e),[n])})),Object(K.a)(A,V.i,(function(e,t){var n=t.payload;return e.filter((function(e){return e.id!==n}))})),Object(K.a)(A,V.f,(function(e,t){return t.payload})),A)),X=Object(D.c)(!1,(w={},Object(K.a)(w,V.b,(function(){return!0})),Object(K.a)(w,V.c,(function(){return!1})),Object(K.a)(w,V.a,(function(){return!1})),Object(K.a)(w,V.h,(function(){return!0})),Object(K.a)(w,V.g,(function(){return!1})),Object(K.a)(w,V.i,(function(){return!1})),Object(K.a)(w,V.e,(function(){return!0})),Object(K.a)(w,V.f,(function(){return!1})),Object(K.a)(w,V.d,(function(){return!1})),w)),Y=Object(D.c)("",Object(K.a)({},V.j,(function(e,t){return t.payload}))),Z=Object(Q.b)({contacts:W,filter:Y,loading:X}),$=n(7),_={name:null,email:null},ee=Object(D.c)(_,(z={},Object(K.a)(z,$.a.registerSuccess,(function(e,t){return t.payload.user})),Object(K.a)(z,$.a.loginSuccess,(function(e,t){return t.payload.user})),Object(K.a)(z,$.a.logoutSuccess,(function(){return _})),Object(K.a)(z,$.a.getCurrentUserSuccess,(function(e,t){return t.payload})),z)),te=Object(D.c)(null,(N={},Object(K.a)(N,$.a.registerSuccess,(function(e,t){return t.payload.token})),Object(K.a)(N,$.a.loginSuccess,(function(e,t){return t.payload.token})),Object(K.a)(N,$.a.logoutSuccess,(function(){return null})),N)),ne=Object(D.c)(null,(H={},Object(K.a)(H,$.a.registerError,(function(e,t){return t.payload})),Object(K.a)(H,$.a.loginError,(function(e,t){return t.payload})),Object(K.a)(H,$.a.logoutError,(function(e,t){return t.payload})),Object(K.a)(H,$.a.getCurrentUserError,(function(e,t){return t.payload})),H)),re=Object(D.c)(!1,(F={},Object(K.a)(F,$.a.registerSuccess,(function(){return!0})),Object(K.a)(F,$.a.loginSuccess,(function(){return!0})),Object(K.a)(F,$.a.getCurrentUserSuccess,(function(){return!0})),Object(K.a)(F,$.a.registerError,(function(){return!1})),Object(K.a)(F,$.a.loginError,(function(){return!1})),Object(K.a)(F,$.a.getCurrentUserError,(function(){return!1})),Object(K.a)(F,$.a.logoutSuccess,(function(){return!1})),F)),ce=Object(Q.b)({user:ee,isAuthenticated:re,token:te,error:ne}),oe=[].concat(Object(B.a)(Object(D.d)({serializableCheck:{ignoredActions:[G.a,G.f,G.b,G.c,G.d,G.e]}})),[J.a]),ue={key:"token",storage:M.a,whitelist:["token"]},ae=Object(D.a)({reducer:{phonebook:Z,auth:Object(G.g)(ue,ce)},middleware:oe,devTools:!1}),se={store:ae,persistor:Object(G.h)(ae)},ie=n(55);u.a.render(Object(b.jsx)(c.a.StrictMode,{children:Object(b.jsx)(l.a,{store:se.store,children:Object(b.jsx)(ie.a,{loading:null,persistor:se.persistor,children:Object(b.jsx)(O.a,{children:Object(b.jsx)(I,{})})})})}),document.getElementById("root"))},12:function(e,t,n){"use strict";n.d(t,"b",(function(){return c})),n.d(t,"c",(function(){return o})),n.d(t,"a",(function(){return u})),n.d(t,"h",(function(){return a})),n.d(t,"i",(function(){return s})),n.d(t,"g",(function(){return i})),n.d(t,"j",(function(){return b})),n.d(t,"e",(function(){return j})),n.d(t,"f",(function(){return l})),n.d(t,"d",(function(){return O}));var r=n(4),c=Object(r.b)("phonebook/AddContactRequest"),o=Object(r.b)("phonebook/AddContactSuccess"),u=Object(r.b)("phonebook/AddContactError"),a=Object(r.b)("phonebook/DeleteContactRequest"),s=Object(r.b)("phonebook/DeleteContactSuccess"),i=Object(r.b)("phonebook/DeleteContactError"),b=Object(r.b)("phonebook/FilterContact",(function(e){return{payload:e.target.value}})),j=Object(r.b)("phonebook/UpdateContactsRequest"),l=Object(r.b)("phonebook/UpdateContactsSuccess"),O=Object(r.b)("phonebook/UpdateContactsError")},29:function(e,t,n){"use strict";n.d(t,"b",(function(){return s}));var r=n(23),c=n.n(r),o=n(7);c.a.defaults.baseURL="https://connections-api.herokuapp.com";var u=function(e){c.a.defaults.headers.common.Authorization="Bearer ".concat(e)},a=function(){c.a.defaults.headers.common.Authorization=""},s=function(){return function(e){e(o.a.logoutRequest()),c.a.post("/users/logout").then((function(t){var n=t.data;a(),e(o.a.logoutSuccess(n))})).catch((function(t){return e(o.a.logoutError(t.message))}))}},i={register:function(e){return function(t){t(o.a.registerRequest()),c.a.post("/users/signup",e).then((function(e){var n=e.data;u(n.token),t(o.a.registerSuccess(n))})).catch((function(e){return t(o.a.registerError(e.message))}))}},login:function(e){return function(t){t(o.a.loginRequest()),c.a.post("/users/login",e).then((function(e){var n=e.data;u(n.token),t(o.a.loginSuccess(n))})).catch((function(e){return t(o.a.loginError(e.message))}))}},getCurrentUser:function(){return function(e,t){var n=t().auth.token;n&&(u(n),e(o.a.getCurrentUserRequest()),c.a.get("/users/current").then((function(t){var n=t.data;return e(o.a.getCurrentUserSuccess(n))})).catch((function(t){return e(o.a.getCurrentUserError(t.message))})))}}};t.a=i},61:function(e,t,n){},7:function(e,t,n){"use strict";var r=n(4),c=Object(r.b)("auth/registerRequest"),o=Object(r.b)("auth/registerSuccess"),u=Object(r.b)("auth/registerError"),a=Object(r.b)("auth/loginRequest"),s=Object(r.b)("auth/loginSuccess"),i=Object(r.b)("auth/loginError"),b={registerRequest:c,registerSuccess:o,registerError:u,logoutRequest:Object(r.b)("auth/logoutRequest"),logoutSuccess:Object(r.b)("auth/logoutSuccess"),logoutError:Object(r.b)("auth/logoutError"),loginRequest:a,loginSuccess:s,loginError:i,getCurrentUserRequest:Object(r.b)("auth/getCurrentUserRequest"),getCurrentUserSuccess:Object(r.b)("auth/getCurrentUserSuccess"),getCurrentUserError:Object(r.b)("auth/getCurrentUserError")};t.a=b}},[[105,1,2]]]);
//# sourceMappingURL=main.fe26c789.chunk.js.map